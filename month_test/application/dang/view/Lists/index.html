<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>商品列表</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="/static/js/jquery-3.5.1.min.js"></script>
</head>
<body>
<div class="container">
    <table>
        {foreach $sel as $v}
        <tr>
            <td><img src="{$v.img}"></td>
            <td>

                <p> <a class="name" href='{:url("Details/index",["id"=>$v["id"]])}'>{$v.name}</a> </p>
                <p> <b class="h4 text-danger">￥{$v.price}</b> </p>
                <p> 作者：<a href="">{$v.author}</a>&nbsp
                    出版商：<a href="">{$v.publishing}</a>
                </p>
                <p> {$v.attribute} </p>
                <a href='{:url("Cartdetails/index",["id"=>$v["id"]])}' class="btn btn-danger">加入购物车</a>
                <a href="" class="btn btn-danger">购买电子书</a>
                <a href='' class="btn btn-outline-danger collect">收藏</a>
            </td>
        </tr>
        {/foreach}
    </table>
</div>
</body>
</html>
<script>
    $(".collect").click(function () {
        var name =$(".name").html();
    })
    $.ajax({
        type: "POST",
        url: '{:url("Cartdetails/collect",["id"=>$v["id"]])}',
        data: {name:name},
        success: function(msg){
            alert( msg );
        }
    });
</script>